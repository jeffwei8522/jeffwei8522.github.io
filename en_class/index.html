<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>高三學測英文 - 學習總覽</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
        }
        /* 日曆中標示今日的樣式 */
        .today {
            background-color: #3b82f6; /* blue-500 */
            color: white;
            border-radius: 9999px; /* rounded-full */
        }
        /* 有教材的日期，滑鼠移過時的樣式 */
        .has-material:hover {
            background-color: #dbeafe; /* blue-100 */
            border-radius: 9999px;
        }
        /* 有教材的日期下方的小點 */
        .dot {
            height: 6px;
            width: 6px;
            background-color: #16a34a; /* green-600 */
            border-radius: 50%;
            position: absolute;
            bottom: 6px;
            left: 50%;
            transform: translateX(-50%);
        }
    </style>
</head>
<body class="bg-gray-100 p-4 sm:p-8">

    <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-lg p-6 sm:p-10">
        <header class="text-center mb-12">
            <h1 class="text-3xl sm:text-4xl font-bold text-blue-800 mb-2">高三學測英文 - 學習總覽 📅</h1>
            <p class="text-lg text-gray-600">所有課程與教材一目了然</p>
        </header>

        <main>
            <section id="calendar-widget">
                <h2 class="text-2xl font-bold text-blue-700 border-b-2 border-blue-200 pb-2 mb-6">課程日曆</h2>
                <div class="bg-gray-50 p-4 sm:p-6 rounded-lg shadow-inner">
                    <div class="flex items-center justify-between mb-4">
                        <button id="prev-month" class="px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded-lg text-gray-700 transition-colors">◀</button>
                        <h3 id="month-year" class="text-xl font-bold text-gray-800 w-40 text-center"></h3>
                        <button id="next-month" class="px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded-lg text-gray-700 transition-colors">▶</button>
                    </div>

                    <div class="grid grid-cols-7 gap-1 text-center text-sm font-medium text-gray-600 mb-2">
                        <div>日</div>
                        <div>一</div>
                        <div>二</div>
                        <div>三</div>
                        <div>四</div>
                        <div>五</div>
                        <div>六</div>
                    </div>
                    <div id="calendar-grid" class="grid grid-cols-7 gap-1">
                        </div>
                </div>
            </section>
        </main>
        
        <footer class="text-center mt-16 pt-8 border-t border-gray-200">
             <p class="text-gray-500">清大文理補習班 | Jeff</p>
        </footer>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        
        // --- 資料庫 ---
        // 在這裡新增您的教材資料
        // 格式: "YYYY-MM-DD": { title: "教材標題", url: "檔案路徑" }
        const materialsData = {
            "2025-07-19": { 
                title: "本週複習精華 (倒裝/完成式...)", 
                url: "materials/250719.html" 
            },
            "2025-08-02": {
                title: "未來課程：時態與子句進階",
                url: "#" // 如果檔案還沒建立，可以先用 #
            }
            // 範例: "2025-08-10": { title: "克漏字專題", url: "materials/250810.html" }
        };

        const calendarGrid = document.getElementById('calendar-grid');
        const monthYearDisplay = document.getElementById('month-year');
        const prevMonthBtn = document.getElementById('prev-month');
        const nextMonthBtn = document.getElementById('next-month');

        let currentDate = new Date(); // 以當前日期為準

        function renderCalendar() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth(); // 0-11
            const today = new Date();

            monthYearDisplay.textContent = `${year}年 ${month + 1}月`;
            calendarGrid.innerHTML = '';

            const firstDayOfMonth = new Date(year, month, 1).getDay(); // 0=週日, 1=週一...
            const lastDateOfMonth = new Date(year, month + 1, 0).getDate();
            const lastDateOfPrevMonth = new Date(year, month, 0).getDate();

            // 填充上個月的日期
            for (let i = firstDayOfMonth; i > 0; i--) {
                const day = lastDateOfPrevMonth - i + 1;
                calendarGrid.innerHTML += `<div class="p-2 text-gray-300">${day}</div>`;
            }

            // 填充這個月的日期
            for (let i = 1; i <= lastDateOfMonth; i++) {
                const dayCell = document.createElement('div');
                dayCell.className = 'p-2 relative flex justify-center items-center cursor-pointer';
                
                const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(i).padStart(2, '0')}`;
                
                let content;
                // 檢查是否有教材
                if (materialsData[dateStr]) {
                    const material = materialsData[dateStr];
                    dayCell.classList.add('has-material');
                    content = document.createElement('a');
                    content.href = material.url;
                    content.title = material.title; // 滑鼠移上去會顯示標題
                    content.innerHTML = `${i}<span class="dot"></span>`;
                    content.className = 'w-full h-full flex justify-center items-center';
                } else {
                    content = document.createElement('span');
                    content.textContent = i;
                }

                // 標示今天
                if (year === today.getFullYear() && month === today.getMonth() && i === today.getDate()) {
                   (content.tagName === 'A' ? content : dayCell).classList.add('today');
                }

                dayCell.appendChild(content);
                calendarGrid.appendChild(dayCell);
            }
        }

        prevMonthBtn.addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar();
        });

        nextMonthBtn.addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar();
        });

        renderCalendar();
    });
    </script>

</body>
</html>
